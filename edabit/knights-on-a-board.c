/*

Write a function that returns true if the knights are placed on a chessboard such that no knight can capture another knight. Here, 0s represent empty squares and 1s represent knights.

Notes

    Knights can be present in any of the 64 squares.
    No other pieces except knights exist.

*/

#include <assert.h>
#include <stdio.h>

int
captures(int b[8][8], int r, int c)
{
	if (r < 0 || c < 0 || r >= 8 || c >= 8)
		return 0;
	return b[r][c] != 0;
}

int
cannotcapture(int b[8][8])
{
	int r, c, n;

	for (r = 0; r < 8; r++) {
		for (c = 0; c < 8; c++) {
			if (b[r][c] == 0)
				continue;

			n = captures(b, r - 2, c - 1);
			n += captures(b, r - 2, c + 1);
			n += captures(b, r - 1, c - 2);
			n += captures(b, r - 1, c + 2);
			n += captures(b, r + 1, c - 2);
			n += captures(b, r + 1, c + 2);
			n += captures(b, r + 2, c - 1);
			n += captures(b, r + 2, c + 1);
			if (n)
				return 0;
		}
	}
	return 1;
}

int
main(void)
{
	int b1[8][8] = {
	    {0, 0, 0, 1, 0, 0, 0, 0},
	    {0, 0, 0, 0, 0, 0, 0, 0},
	    {0, 1, 0, 0, 0, 1, 0, 0},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 1, 0, 0, 0, 1, 0, 0},
	    {0, 0, 0, 0, 0, 0, 0, 0},
	    {0, 1, 0, 0, 0, 0, 0, 1},
	    {0, 0, 0, 0, 1, 0, 0, 0},
	};
	int b2[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {0, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {0, 0, 0, 0, 0, 0, 1, 0},
	    {0, 0, 0, 0, 0, 0, 0, 1},
	};
	int b3[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {1, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 0, 0, 1, 0},
	    {1, 0, 0, 0, 0, 0, 0, 1},
	};
	int b4[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	};
	int b5[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 0, 0, 1},
	};
	int b6[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {1, 0, 0, 1, 0, 0, 0, 1},
	};
	int b7[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 1, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 0, 0, 1},
	};
	int b8[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 1, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	};
	int b9[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 1, 1, 0},
	    {0, 0, 0, 0, 0, 0, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	};
	int b10[8][8] = {
	    {1, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 1, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 0, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {1, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 1, 1, 0, 1, 0, 1},
	};
	int b11[8][8] = {
	    {0, 0, 0, 1, 0, 0, 0, 0},
	    {0, 0, 0, 0, 0, 0, 0, 0},
	    {0, 1, 0, 0, 0, 1, 1, 0},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 1, 0, 0, 0, 1, 0, 0},
	    {0, 0, 0, 0, 0, 0, 0, 0},
	    {0, 1, 0, 0, 0, 0, 0, 1},
	    {0, 0, 0, 0, 1, 0, 0, 0},
	};

	assert(cannotcapture(b1) == 1);
	assert(cannotcapture(b2) == 1);
	assert(cannotcapture(b3) == 1);
	assert(cannotcapture(b4) == 1);
	assert(cannotcapture(b5) == 1);
	assert(cannotcapture(b6) == 0);
	assert(cannotcapture(b7) == 0);
	assert(cannotcapture(b8) == 0);
	assert(cannotcapture(b9) == 0);
	assert(cannotcapture(b10) == 0);
	assert(cannotcapture(b11) == 0);

	return 0;
}
