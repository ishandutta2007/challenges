/*

Create a function that takes a character from a to h as the column number and an integer from 1 to 8 as the row number which together represent the location of a queen on a normal-sized chess board.
Return this two dimensional 8x8 array.

This array must consist of zeroes and ones. The ones are placed in positions where the queen can move in one move and zeroes represent positions on the board where it cannot.

Examples

checkBoard("a", 1) ➞ [
  [1, 0, 0, 0, 0, 0, 0, 1],
  [1, 0, 0, 0, 0, 0, 1, 0],
  [1, 0, 0, 0, 0, 1, 0, 0],
  [1, 0, 0, 0, 1, 0, 0, 0],
  [1, 0, 0, 1, 0, 0, 0, 0],
  [1, 0, 1, 0, 0, 0, 0, 0],
  [1, 1, 0, 0, 0, 0, 0, 0],
  [0, 1, 1, 1, 1, 1, 1, 1]
]

checkBoard("h", 4) ➞ [
  [0, 0, 0, 1, 0, 0, 0, 1],
  [0, 0, 0, 0, 1, 0, 0, 1],
  [0, 0, 0, 0, 0, 1, 0, 1],
  [0, 0, 0, 0, 0, 0, 1, 1],
  [1, 1, 1, 1, 1, 1, 1, 0],
  [0, 0, 0, 0, 0, 0, 1, 1],
  [0, 0, 0, 0, 0, 1, 0, 1],
  [0, 0, 0, 0, 1, 0, 0, 1]
]
 
checkBoard("c", 8) ➞ [
  [1, 1, 0, 1, 1, 1, 1, 1],
  [0, 1, 1, 1, 0, 0, 0, 0],
  [1, 0, 1, 0, 1, 0, 0, 0],
  [0, 0, 1, 0, 0, 1, 0, 0],
  [0, 0, 1, 0, 0, 0, 1, 0],
  [0, 0, 1, 0, 0, 0, 0, 1],
  [0, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 1, 0, 0, 0, 0, 0]
]

Notes

The queens' current position is a zero as it is impossible to move to this position during one turn, because the queen is already there.

*/

#include <assert.h>
#include <stdio.h>
#include <string.h>

void
print(int m[8][8])
{
	int i, j;

	for (i = 0; i < 8; i++) {
		for (j = 0; j < 8; j++)
			printf("%d ", m[i][j]);
		printf("\n");
	}
	printf("\n");
}

void
gen(int m[8][8], int i, int j, int di, int dj)
{
	if (di == 0 && dj == 0)
		return;

	for (;;) {
		i += di;
		j += dj;
		if (i < 0 || i >= 8 || j < 0 || j >= 8)
			return;
		m[i][j] = 1;
	}
}

int
checkboard(int c, int r, int m[8][8])
{
	int i, j, di, dj;

	if (!('a' <= c && c <= 'h'))
		return -1;
	if (!(1 <= r && r <= 8))
		return -1;

	memset(m, 0, sizeof(*m) * 8);
	i = 8 - r;
	j = c - 'a';
	for (di = -1; di <= 1; di++) {
		for (dj = -1; dj <= 1; dj++)
			gen(m, i, j, di, dj);
	}

	return 0;
}

void
test(int c, int r, int p[8][8])
{
	int m[8][8];

	assert(checkboard(c, r, m) >= 0);
	print(m);
	assert(!memcmp(p, m, sizeof(m)));
}

int
main(void)
{
	int m1[8][8] = {
	    {1, 0, 0, 0, 0, 0, 0, 1},
	    {1, 0, 0, 0, 0, 0, 1, 0},
	    {1, 0, 0, 0, 0, 1, 0, 0},
	    {1, 0, 0, 0, 1, 0, 0, 0},
	    {1, 0, 0, 1, 0, 0, 0, 0},
	    {1, 0, 1, 0, 0, 0, 0, 0},
	    {1, 1, 0, 0, 0, 0, 0, 0},
	    {0, 1, 1, 1, 1, 1, 1, 1},
	};
	int m2[8][8] = {
	    {0, 0, 0, 1, 0, 0, 0, 1},
	    {0, 0, 0, 0, 1, 0, 0, 1},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {0, 0, 0, 0, 0, 0, 1, 1},
	    {1, 1, 1, 1, 1, 1, 1, 0},
	    {0, 0, 0, 0, 0, 0, 1, 1},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 0, 0, 1},
	};
	int m3[8][8] = {
	    {1, 1, 0, 1, 1, 1, 1, 1},
	    {0, 1, 1, 1, 0, 0, 0, 0},
	    {1, 0, 1, 0, 1, 0, 0, 0},
	    {0, 0, 1, 0, 0, 1, 0, 0},
	    {0, 0, 1, 0, 0, 0, 1, 0},
	    {0, 0, 1, 0, 0, 0, 0, 1},
	    {0, 0, 1, 0, 0, 0, 0, 0},
	    {0, 0, 1, 0, 0, 0, 0, 0},
	};
	int m4[8][8] = {
	    {1, 0, 0, 1, 0, 0, 0, 0},
	    {1, 0, 1, 0, 0, 0, 0, 0},
	    {1, 1, 0, 0, 0, 0, 0, 0},
	    {0, 1, 1, 1, 1, 1, 1, 1},
	    {1, 1, 0, 0, 0, 0, 0, 0},
	    {1, 0, 1, 0, 0, 0, 0, 0},
	    {1, 0, 0, 1, 0, 0, 0, 0},
	    {1, 0, 0, 0, 1, 0, 0, 0},
	};
	int m5[8][8] = {
	    {0, 0, 0, 0, 0, 1, 0, 0},
	    {0, 0, 0, 0, 0, 1, 0, 0},
	    {1, 0, 0, 0, 0, 1, 0, 0},
	    {0, 1, 0, 0, 0, 1, 0, 0},
	    {0, 0, 1, 0, 0, 1, 0, 0},
	    {0, 0, 0, 1, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 1, 1, 0},
	    {1, 1, 1, 1, 1, 0, 1, 1},
	};
	int m6[8][8] = {
	    {1, 1, 1, 0, 1, 1, 1, 1},
	    {0, 0, 1, 1, 1, 0, 0, 0},
	    {0, 1, 0, 1, 0, 1, 0, 0},
	    {1, 0, 0, 1, 0, 0, 1, 0},
	    {0, 0, 0, 1, 0, 0, 0, 1},
	    {0, 0, 0, 1, 0, 0, 0, 0},
	    {0, 0, 0, 1, 0, 0, 0, 0},
	    {0, 0, 0, 1, 0, 0, 0, 0},
	};
	int m7[8][8] = {
	    {0, 1, 0, 0, 0, 0, 1, 0},
	    {0, 1, 0, 0, 0, 1, 0, 0},
	    {0, 1, 0, 0, 1, 0, 0, 0},
	    {0, 1, 0, 1, 0, 0, 0, 0},
	    {1, 1, 1, 0, 0, 0, 0, 0},
	    {1, 0, 1, 1, 1, 1, 1, 1},
	    {1, 1, 1, 0, 0, 0, 0, 0},
	    {0, 1, 0, 1, 0, 0, 0, 0},
	};
	int m8[8][8] = {
	    {0, 0, 0, 0, 0, 0, 1, 1},
	    {1, 1, 1, 1, 1, 1, 1, 0},
	    {0, 0, 0, 0, 0, 0, 1, 1},
	    {0, 0, 0, 0, 0, 1, 0, 1},
	    {0, 0, 0, 0, 1, 0, 0, 1},
	    {0, 0, 0, 1, 0, 0, 0, 1},
	    {0, 0, 1, 0, 0, 0, 0, 1},
	    {0, 1, 0, 0, 0, 0, 0, 1},
	};
	int m9[8][8] = {
	    {0, 0, 1, 0, 0, 0, 1, 0},
	    {0, 0, 1, 0, 0, 1, 0, 0},
	    {1, 0, 1, 0, 1, 0, 0, 0},
	    {0, 1, 1, 1, 0, 0, 0, 0},
	    {1, 1, 0, 1, 1, 1, 1, 1},
	    {0, 1, 1, 1, 0, 0, 0, 0},
	    {1, 0, 1, 0, 1, 0, 0, 0},
	    {0, 0, 1, 0, 0, 1, 0, 0},
	};
	int m10[8][8] = {
	    {1, 0, 0, 0, 0, 0, 1, 0},
	    {0, 1, 0, 0, 0, 0, 1, 0},
	    {0, 0, 1, 0, 0, 0, 1, 0},
	    {0, 0, 0, 1, 0, 0, 1, 0},
	    {0, 0, 0, 0, 1, 0, 1, 0},
	    {0, 0, 0, 0, 0, 1, 1, 1},
	    {1, 1, 1, 1, 1, 1, 0, 1},
	    {0, 0, 0, 0, 0, 1, 1, 1},
	};
	int m11[8][8] = {
	    {0, 0, 1, 0, 1, 0, 1, 0},
	    {0, 0, 0, 1, 1, 1, 0, 0},
	    {1, 1, 1, 1, 0, 1, 1, 1},
	    {0, 0, 0, 1, 1, 1, 0, 0},
	    {0, 0, 1, 0, 1, 0, 1, 0},
	    {0, 1, 0, 0, 1, 0, 0, 1},
	    {1, 0, 0, 0, 1, 0, 0, 0},
	    {0, 0, 0, 0, 1, 0, 0, 0},
	};

	test('a', 1, m1);
	test('h', 4, m2);
	test('c', 8, m3);
	test('a', 5, m4);
	test('f', 1, m5);
	test('d', 8, m6);
	test('b', 3, m7);
	test('h', 7, m8);
	test('c', 4, m9);
	test('g', 2, m10);
	test('e', 6, m11);

	return 0;
}
