/*

Count the amount of coordinates on a two-dimensional grid that are inside a given circle.
The function has four arguments: the points, the circle's center x, y and the circle's radius. For example:

Notes

Only count the coordinates that are in the circle, not the ones that are on the border.

*/

#include <stdio.h>

#define nelem(x) (sizeof(x) / sizeof(x[0]))

typedef struct {
	double x, y;
} Point;

size_t
pointsincircle(Point *p, size_t n, double x, double y, double r)
{
	size_t i, c;
	double dx, dy;

	c = 0;
	for (i = 0; i < n; i++) {
		dx = x - p[i].x;
		dy = y - p[i].y;
		if (dx * dx + dy * dy < r * r)
			c++;
	}
	return c;
}

int
main(void)
{
	Point p1[] = { { 0, 0 }, { 1, 1 }, { 0, 5 }, { 10, 10 } };
	Point p2[] = { { 9, 6 }, { 9, 3 }, { 4, 8 }, { 3, 10 }, { 1, 6 } };
	Point p3[] = { { 8, 8 }, { 8, 6 }, { 4, 7 } };
	Point p4[] = { { 0, 0 }, { 1, 1 }, { 0, 5 }, { 10, 10 } };
	Point p5[] = { { 10, 10 }, { 33, 54 }, { 7, 98 }, { 516, 85 } };
	Point p6[] = { { 6, 3 }, { 1, 4 }, { 1, 9 }, { 4, 9 }, { 9, 3 }, { 10, 8 }, { 2, 2 }, { 4, 3 }, { 4, 4 }, { 1, 2 }, { 8, 9 }, { 6, 10 }, { 10, 6 }, { 8, 8 }, { 2, 1 }, { 7, 4 }, { 6, 1 }, { 8, 1 }, { 8, 5 }, { 2, 1 }, { 10, 5 }, { 6, 5 }, { 8, 3 }, { 7, 8 }, { 1, 6 }, { 8, 7 }, { 4, 10 }, { 6, 5 }, { 4, 5 }, { 1, 10 }, { 4, 4 }, { 6, 8 }, { 2, 8 }, { 2, 8 }, { 1, 10 }, { 3, 2 }, { 5, 7 }, { 10, 2 }, { 9, 8 }, { 4, 3 }, { 9, 5 }, { 6, 3 }, { 1, 3 }, { 5, 10 }, { 2, 7 }, { 10, 6 }, { 8, 4 }, { 9, 9 }, { 1, 8 }, { 1, 3 }, { 2, 2 }, { 10, 1 }, { 5, 6 }, { 10, 5 }, { 8, 5 }, { 9, 10 }, { 1, 4 }, { 5, 6 }, { 6, 5 }, { 2, 2 }, { 10, 10 }, { 6, 7 }, { 2, 1 }, { 4, 4 }, { 8, 4 }, { 6, 10 }, { 6, 7 }, { 3, 5 }, { 9, 1 }, { 1, 7 }, { 2, 9 }, { 7, 4 }, { 9, 5 }, { 7, 6 }, { 9, 6 }, { 3, 1 }, { 2, 9 }, { 7, 1 }, { 3, 7 }, { 6, 5 }, { 8, 8 }, { 7, 5 }, { 6, 4 }, { 6, 5 }, { 7, 2 }, { 7, 10 }, { 7, 1 }, { 3, 1 }, { 9, 10 }, { 6, 7 }, { 5, 9 }, { 2, 6 }, { 10, 1 }, { 9, 1 }, { 7, 3 }, { 3, 1 }, { 7, 9 }, { 2, 5 }, { 1, 9 }, { 8, 8 } };
	Point p7[] = { { 16, 98 }, { 48, 5 }, { 66, 18 }, { 87, 8 }, { 37, 94 }, { 69, 49 }, { 85, 37 }, { 61, 63 }, { 19, 4 }, { 81, 3 }, { 90, 30 }, { 35, 65 }, { 30, 92 }, { 72, 38 }, { 67, 4 }, { 41, 70 }, { 93, 92 }, { 43, 17 }, { 22, 12 }, { 5, 58 }, { 27, 73 }, { 42, 70 }, { 40, 61 }, { 75, 99 }, { 41, 79 }, { 98, 99 }, { 20, 64 }, { 2, 74 }, { 69, 44 }, { 39, 58 }, { 6, 11 }, { 51, 34 }, { 32, 19 }, { 50, 12 }, { 16, 91 }, { 1, 99 }, { 13, 60 }, { 16, 64 }, { 34, 25 }, { 41, 68 }, { 61, 57 }, { 61, 17 }, { 47, 17 }, { 10, 63 }, { 40, 76 }, { 82, 93 }, { 54, 14 }, { 6, 28 }, { 21, 69 }, { 76, 79 }, { 37, 5 }, { 85, 73 }, { 24, 72 }, { 36, 75 }, { 72, 4 }, { 71, 80 }, { 37, 13 }, { 62, 83 }, { 45, 43 }, { 95, 67 }, { 6, 12 }, { 79, 27 }, { 1, 12 }, { 19, 51 }, { 94, 27 }, { 29, 34 }, { 21, 43 }, { 8, 81 }, { 98, 65 }, { 63, 82 }, { 45, 38 }, { 70, 19 }, { 61, 30 }, { 47, 86 }, { 52, 41 }, { 89, 16 }, { 28, 75 }, { 21, 98 }, { 54, 68 }, { 80, 46 }, { 82, 71 }, { 36, 91 }, { 76, 20 }, { 33, 81 }, { 56, 57 }, { 6, 47 }, { 85, 62 }, { 83, 67 }, { 98, 66 }, { 92, 54 }, { 70, 88 }, { 42, 38 }, { 66, 100 }, { 92, 22 }, { 77, 36 }, { 90, 57 }, { 48, 39 }, { 49, 97 }, { 12, 66 }, { 30, 85 } };

	printf("%zu\n", pointsincircle(p1, nelem(p1), 0, 0, 5));
	printf("%zu\n", pointsincircle(p2, nelem(p2), 0, 0, 7.5));
	printf("%zu\n", pointsincircle(p3, nelem(p3), 0, 0, 1));
	printf("%zu\n", pointsincircle(p4, nelem(p4), 50, 50, 40));
	printf("%zu\n", pointsincircle(p5, nelem(p5), 23, 94, 100));
	printf("%zu\n", pointsincircle(p6, nelem(p6), 0, 0, 7.5));
	printf("%zu\n", pointsincircle(p7, nelem(p7), 0, 0, 50));

	return 0;
}
